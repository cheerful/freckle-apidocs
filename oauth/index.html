<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>OAuth - Noko Developer</title>
  <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/assets/v2/stylesheet.css" type="text/css">
</head>

<body>
  <div id="container">
    <div id="nav">
      <div id="logo">
        <a href="/">
          <img src="/assets/noko.svg" alt="Noko">
        </a>
      </div>
      Developer Documentation
      <ul id="version_switch">
        <li><a href="/v1/">API v1</a></li>
        <li><a href="/v2/">API v2</a></li>
      </ul>
      <h2>Topics</h2>
      <ul id="topics">
        <li><a href="/v2/">API Basics</a></li>
        <li><a href="/v2/authentication/">Authentication</a></li>
        <li><a href="/v2/oauth/">OAuth</a></li>
        <li><a href="/v2/entries_vs_inbox_entries/">Entries vs. Inbox Entries</a></li>
        <li><a href="/v2/migration_guide/">Migrating to Noko</a></li>
      </ul>

      <h2>Resources</h2>
      <ul id="resources">
        <li><a href="/v2/entries/">Entries</a></li>
        <li><a href="/v2/inbox_entries/">Inbox Entries</a></li>
        <li><a href="/v2/tags/">Tags</a></li>
        <li><a href="/v2/timers/">Timers</a></li>
        <li><a href="/v2/projects/">Projects</a></li>
        <li><a href="/v2/project_groups/">Project Groups</a></li>
        <li><a href="/v2/invoices/">Invoices</a></li>
        <li><a href="/v2/expenses/">Expenses</a></li>
        <li><a href="/v2/invoice_locales/">Invoice Locales</a></li>
      </ul>

      <h3 class="beta">Webhooks</h3>
      <ul id='notifications-webhooks'>
        <li><a href="/v2/using_webhooks/">Using Webhooks</a></li>
        <li><a href="/v2/webhooks/">Webhooks</a></li>
        <li><a href="/v2/webhook_events/">Webhook Events</a></li>
      </ul>

      <h3 class='beta'>Broadcasts</h3>
      <ul id='notifications-broadcasts'>
        <li><a href="/v2/using_broadcasts/">Using Broadcasts</a></li>
        <li><a href="/v2/broadcast_receivers/">Broadcast Receivers</a></li>
        <li><a href="/v2/broadcast_subjects/">Broadcast Subjects</a></li>
      </ul>

      <h2>Account Management</h2>
      <ul id="account-management">
        <li><a href="/v2/account/">Account</a></li>
        <li><a href="/v2/current_user/">Current User</a></li>
        <li><a href="/v2/users/">Users</a></li>
        <li><a href="/v2/teams/">Teams</a></li>
      </ul>
    </div>
    <div id="content">
      <h1>OAuth</h1>
      <p class="note warning">
        Freckle is now Noko! <a href="/migration_guide/">Learn how to migrate your apps here</a>
      </p>
      <div class="note warning sticky">
  <h2>Almost finished!</h2>
  <p>This authentication method is almost finished, but the following sections will return a 404 error:</p>
  <ul>
    <li><a href="#non-web-application-flow">Non-Web Application Flow</a></li>
    <li><a href="#oauth-application-api">OAuth Application API</a></li>
  </ul>
</div>

<ul id="markdown-toc">
  <li><a href="#web-application-flow" id="markdown-toc-web-application-flow">Web Application Flow</a></li>
  <li><a href="#non-web-application-flow" id="markdown-toc-non-web-application-flow">Non-Web Application Flow</a></li>
  <li><a href="#oauth-application-api" id="markdown-toc-oauth-application-api">OAuth Application API</a></li>
</ul>

<p>OAuth2 is a protocol that lets external apps request authorization to the private details in a user’s Noko account without requiring their password. Noko supports access to API resources using OAuth because tokens can be easily generated as part of a 3rd party integration and revoked by users at any time.</p>

<p>Before you can start developing with the Noko API, you must first <a href="https://help.nokotime.com/article/122-registering-a-new-freckle-app">register your application</a>. When you register, you will be given a unique Client ID and Secret. Your Client Secret should not be shared.</p>

<p>There are two supported ways to generate an access token for a specific user from your application: One designed specifically for use by Web Applications, and another that allows other types of applications to list, create, and confirm their Authorization Token for a user.</p>

<p>Since OAuth2 is a complicated authentication protocol, you may want to use an <a href="http://oauth.net/2/">existing library</a> to generate and refresh access tokens.</p>

<p>All OAuth2 authorization requests are made through a single endpoint</p>

<pre><code>https://secure.nokotime.com
</code></pre>

<h2 id="web-application-flow">Web Application Flow</h2>

<p>Below are the steps required to generate an access token for a Noko user through an initial <code>GET</code> request to Noko and a corresponding redirect back to your application.</p>

<h3 id="redirect-users-to-request-noko-access">1. Redirect users to request Noko access</h3>

<pre><code>GET https://secure.nokotime.com/oauth/2/authorize
</code></pre>

<h4 id="parameters">Parameters:</h4>

<dl>
  <dt>client_id</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>The client ID you received from Noko when you registered</dd>
  <dd>Example: <code>client_id=abcdefghi1234</code>
</dd>
  <dt>response_type</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>Must be set to <code>code</code>. This is usually handled by an OAuth2 client library</dd>
  <dt>state</dt>
  <dd>
<em>Optional</em> <strong>string</strong>
</dd>
  <dd>An unguessable random string, which is used to protect against cross-site request forgery attacks.</dd>
  <dt>redirect_uri</dt>
  <dd>
<em>Optional</em> <strong>string</strong>
</dd>
  <dd>The URL pointing to your application where users will be redirected to after they have authorized your application to use their Noko data. If no <code>redirect_uri</code> is included in the request, Noko will redirect users to the callback URL configured in the OAuth2 application settings.

    <h4 id="rules">Rules:</h4>

    <p>If a <code>redirect_uri</code> is included in the request, the redirect URL’s host and port must exactly match the configured callback URL and the redirect URL path must reference a subdirectory of the callback URL configured in the OAuth2 application settings.</p>

    <h4 id="examples">Examples:</h4>

    <pre><code>CONFIGURED CALLBACK URL: http://example.com/path

GOOD: https://example.com/path
GOOD: http://example.com/path/subdir/other

BAD:  http://example.com/bar
BAD:  http://example.com/
BAD:  http://example.com:8080/path
BAD:  http://oauth.example.com:8080/path
BAD:  http://example.org
</code></pre>
  </dd>
</dl>

<h3 id="noko-redirects-back-to-your-site-with-two-parameters">2. Noko redirects back to your site with two parameters:</h3>

<p>When the user has authorized your application, Noko will redirect back to your application (either to the URL configured in the OAuth2 application settings, or the url specified in <code>redirect_uri</code>). The redirection will include the following query parameters:</p>

<dl>
  <dt>code</dt>
  <dd><strong>string</strong></dd>
  <dd>A temporary code that you will send back to Noko to get the access token. This code confirms that the user authorized your application to use their Noko data, and that you received the request. This temporary code expires shortly after it’s issued, so be sure to use it quickly!</dd>
  <dt>state</dt>
  <dd><strong>string</strong></dd>
  <dd>If you provided a state in your <a href="#redirect-users-to-request-noko-access">initial request</a> it will be returned back to you. Reject the redirect if this parameter does not match what you previously sent.</dd>
</dl>

<h4 id="errors">Errors:</h4>

<p>If the user denied access or there was a problem with the API request, the redirect will include the following query parameters:</p>

<dl>
  <dt>error</dt>
  <dd><strong>string</strong></dd>
  <dd>
<code>invalid_request</code>: The request was not properly formed.</dd>
  <dd>
<code>unauthorized_client</code>: This client is not authorized to request access tokens using this method.</dd>
  <dd>
<code>access_denied</code>: The user denied the request to allow this client to access their data.</dd>
  <dd>
<code>unsupported_response_type</code>: The server does not support this method of obtaining an authorization code.</dd>
  <dd>
<code>server_error</code>: The server encountered an unexpected error and was unable to fulfill the request.</dd>
  <dd>
<code>temporarily_unavailable</code>: The server is currently unable to handle the request.</dd>
  <dt>error_description</dt>
  <dd><strong>string</strong></dd>
  <dd>A short explanation of the error</dd>
</dl>

<h3 id="post-to-noko-to-get-the-access-token">3. POST to Noko to get the access token.</h3>

<p>After you have received the temporary code, you will need to <code>POST</code> to Noko to exchange this temporary code for an access token</p>

<pre><code>POST https://secure.nokotime.com/oauth/2/access_token
</code></pre>

<h4 id="parameters-1">Parameters:</h4>

<dl>
  <dt>client_id</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>The client ID you received from Noko when you registered your application.</dd>
  <dt>client_secret</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>the client secret you received from Noko when you registered your application.</dd>
  <dt>code</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>the code you received as a response in <a href="#noko-redirects-back-to-your-site-with-two-parameters">step 2</a>.</dd>
  <dt>grant_type</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>Must be set to <code>authorization_code</code>. This is usually handled by an OAuth2 client library.</dd>
  <dt>redirect_uri</dt>
  <dd>
<em>Required if provided in <a href="#redirect-users-to-request-noko-access">step 1</a></em> <strong>string</strong>
</dd>
  <dd>The URL pointing to your application where users will be redirected to after they have authorized your application to use their Noko data. This must exactly match the value given in <a href="#redirect-users-to-request-noko-access">step 1</a>.</dd>
</dl>

<h4 id="reponse">Reponse</h4>

<p>The response will include the following values:</p>

<dl>
  <dt>access_token</dt>
  <dd><strong>string</strong></dd>
  <dd>The token you will use to access the API on behalf of a user.</dd>
  <dt>refresh_token</dt>
  <dd><strong>string</strong></dd>
  <dd>The token you will use to refresh the API access token when it expired.</dd>
  <dt>expires_in</dt>
  <dd><strong>integer</strong></dd>
  <dd>The number of seconds until the current <code>access_token</code> expires.</dd>
  <dt>token_type</dt>
  <dd><strong>string</strong></dd>
  <dd>The type of access that has been sent to your application. The default value is <code>bearer</code>.</dd>
</dl>

<p>By default, the response will have the following format:</p>

<pre><code>access_token=abcedfghijk1234567890&amp;expires_in=12345678&amp;refresh_token=poiuytrew098765&amp;scope=&amp;token_type=bearer
</code></pre>

<p>However, by modifying your request’s <code>Accept</code> header, you can receive the response in different formats:</p>

<pre><code>Accept: application/json
</code></pre>
<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="dl">"</span><span class="s2">access_token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abcedfghijk1234567890</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">refresh_token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">poiuytrew098765</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">expires_in</span><span class="dl">"</span><span class="p">:</span> <span class="mi">12345678</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">scope</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">token_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bearer</span><span class="dl">"</span>
<span class="p">}</span></code></pre>

<h4 id="errors-1">Errors</h4>

<p>If there was an error getting the access token, the response will be a JSON hash that explains the error:</p>

<pre class="headers"><code>Status: 400 Bad Request</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="dl">"</span><span class="s2">error</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">invalid_grant</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">error_description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">The provided access grant is invalid, expired, or revoked (e.g. invalid assertion, expired authorization token, bad end-user password credentials, or mismatching authorization code and redirection URI).</span><span class="dl">"</span>
<span class="p">}</span></code></pre>

<p>The possible errors are:</p>

<ul>
  <li>
<code>invalid_request</code>: The request was not properly formed.</li>
  <li>
<code>invalid_client</code>: The client provided is invalid.</li>
  <li>
<code>invalid_grant</code>: The provided authorization grant or refresh token is invalid.</li>
  <li>
<code>unauthorized_client</code>: The client cannot use this grant type.</li>
  <li>
<code>unsupported_grant_type</code>: This grant type is not supported by the authorization server.</li>
</ul>

<h3 id="use-the-access-token-to-make-api-requests-on-behalf-of-the-user">4. Use the access token to make API requests on behalf of the user</h3>

<p>Now that you have an access token for the user, you can use it to make API requests on their behalf. Please review the <a href="/v2/authentication">API basics section on how to include the access token in your requests</a>.</p>

<h3 id="refresh-the-expired-access-token">5. Refresh the expired access token</h3>

<p>When the access token expires, a <code>401</code> error is returned for any associated API requests:</p>

<pre class="headers"><code>Status: 401 Unauthorized</code></pre>

<p>Once an access token has expired, you will need to use the <code>refresh_token</code> to request a new <code>access_token</code>.</p>

<pre><code>POST https://secure.nokotime.com/oauth/2/access_token
</code></pre>

<h4 id="parameters-2">Parameters</h4>

<dl>
  <dt>client_id</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>The client ID you received from Noko when you registered your application.</dd>
  <dt>client_secret</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>the client secret you received from Noko when you registered your application.</dd>
  <dt>refresh_token</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>The refresh token you were given to refresh the API access token when it expired.</dd>
  <dt>grant_type</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>The value must be set to <code>refresh_token</code>. This is usually handled by an OAuth2 client library.</dd>
</dl>

<h4 id="response">Response</h4>

<p>The response will include the following values:</p>

<dl>
  <dt>access_token</dt>
  <dd><strong>string</strong></dd>
  <dd>The new token you will use to access the API on behalf of a user.</dd>
  <dt>refresh_token</dt>
  <dd><strong>string</strong></dd>
  <dd>The token you will use to refresh the API access token when it expired.</dd>
  <dt>expires_in</dt>
  <dd><strong>integer</strong></dd>
  <dd>The number of seconds until the new <code>access_token</code> expires.</dd>
  <dt>token_type</dt>
  <dd><strong>string</strong></dd>
  <dd>The type of access that has been sent to your application. The default value is <code>bearer</code>.</dd>
</dl>

<p>By default, the response will have the following format:</p>

<pre><code>access_token=abcedfghijk1234567890&amp;expires_in=12345678&amp;refresh_token=poiuytrew098765&amp;scope=&amp;token_type=bearer
</code></pre>

<p>However, by modifying your request’s <code>Accept</code> header, you can receive the response in different formats:</p>

<pre><code>Accept: application/json
</code></pre>
<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="dl">"</span><span class="s2">access_token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abcedfghijk1234567890</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">refresh_token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">poiuytrew098765</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">expires_in</span><span class="dl">"</span><span class="p">:</span> <span class="mi">12345678</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">scope</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">token_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bearer</span><span class="dl">"</span>
<span class="p">}</span></code></pre>

<h2 id="non-web-application-flow">Non-Web Application Flow</h2>

<div class="note warning sticky">
  <h2>Not implemented yet!</h2>
  <p>This is just a sneak peek into how this feature might work. Attempting to call any actions will return a 404 error.</p>
</div>

<p>If your application is not a Web-app, you will need to use the OAuth Authorizations API to <a href="#oauth-authorizations-api">generate a new access token</a> for the user. Note that the OAuth Authorization API is only available via <a href="/v2/authentication">Basic Authentication</a></p>

<h3 id="oauth-authorizations-api">OAuth Authorizations API</h3>

<p>This API allows users to manage their tokens, and is only accessible via <a href="/v2/authentication">Basic Authentication</a>.</p>

<p>Access Tokens are not shared across accounts. When using the OAuth Authorizations API, you will need to specify which account you are accessing. This is done by including the desired account’s subdomain as part of the request URL.</p>

<p>The process for selecting which account to access should be:</p>

<ol>
  <li>Present the user with a list of all the subdomains (with the corresponding avatar) they are associated with.</li>
  <li>User selects which account they want to access</li>
  <li>Use the user-selected subdomain to access the OAuth Authorizations API</li>
</ol>

<h3 id="list-all-the-subdomains-associated-with-this-user">List all the subdomains associated with this user</h3>

<p>In order to use the OAuth Authorizations API, you will need to specify which subdomain the user wants to authenticate with. This method returns a list of all the subdomains associated with the user, along with URLs to their respective avatars.</p>

<pre><code>GET https://secure.nokotime.com/subdomains
</code></pre>

<h4 id="response-1">Response</h4>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">testit</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">avatar</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.nokotime.com/images/avatars/0000/0001/avatar.jpg</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h3 id="list-all-authorizations">List all authorizations</h3>

<pre><code>GET https://secure.nokotime.com/authorizations/:subdomain
</code></pre>

<h4 id="response-2">Response</h4>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.nokotime.com/v2/authorizations/1</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">scopes</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
      <span class="dl">"</span><span class="s2">current_user</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">project</span><span class="dl">"</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abc123</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://dabestnokoapp.com</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Da Best Noko App</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">client_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">98643ycvfjfswx</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">note</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">describes what the token is generated for</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">note_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://explanation.com/</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T20:39:23Z</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T17:26:27Z</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h4 id="response-if-the-user-is-not-associated-with-the-subdomain-provided">Response if the user is not associated with the subdomain provided</h4>

<pre class="headers no-response"><code>Status: 404 Not Found</code></pre>

<h3 id="get-a-single-authorization">Get a single Authorization</h3>

<pre><code>GET https://secure.nokotime.com/authorizations/:subdomain/:id
</code></pre>

<h4 id="response-3">Response</h4>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.nokotime.com/v2/authorizations/1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">scopes</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">current_user</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">project</span><span class="dl">"</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abc123</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://dabestnokoapp.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Da Best Noko App</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">client_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">98643ycvfjfswx</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">note</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">describes what the token is generated for</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">note_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://explanation.com/</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T20:39:23Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T17:26:27Z</span><span class="dl">"</span>
<span class="p">}</span></code></pre>

<h3 id="create-a-new-authorization-token">Create a new Authorization Token</h3>

<p>When you are not building a Web Application, it might be easier to generate a token using a single POST request.</p>

<pre><code>POST https://secure.nokotime.com/authorizations/:subdomain
</code></pre>

<h4 id="inputs">Inputs</h4>

<dl>
  <dt>client_id</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>the client key generated for your application.</dd>
  <dt>client_secret</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>the client secret generated for your application.</dd>
  <dt>scopes</dt>
  <dd>
<em>Optional</em> <strong>array of strings</strong>
</dd>
  <dd>The type of access your application needs to the user’s Noko data.</dd>
  <dd>If no value is provided, then the permissions you chose when you setup your application will be used.</dd>
  <dt>note</dt>
  <dd>
<em>Optional</em> <strong>string</strong>
</dd>
  <dd>a note to remind users why the OAuth token was generated</dd>
  <dt>note_url</dt>
  <dd>
<em>Optional</em> <strong>string</strong>
</dd>
  <dd>a URL to remind users what app the OAuth token was generated for.</dd>
</dl>

<h4 id="response-4">Response</h4>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.nokotime.com/v2/authorizations/1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">scopes</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">current_user</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">project</span><span class="dl">"</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abc123</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://dabestnokoapp.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Da Best Noko App</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">client_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">98643ycvfjfswx</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">note</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">describes what the token is generated for</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">note_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://explanation.com/</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T20:39:23Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T17:26:27Z</span><span class="dl">"</span>
<span class="p">}</span></code></pre>

<h4 id="response-if-the-user-is-not-associated-with-the-subdomain-provided-1">Response if the user is not associated with the subdomain provided</h4>

<pre class="headers no-response"><code>Status: 404 Not Found</code></pre>

<h3 id="get-or-create-an-authorization-for-a-specific-app">Get-or-create an authorization for a specific app</h3>

<p>This method checks for an authorization for the specified OAuth application. If the authorization does not exist for this user, it is automatically created.</p>

<pre><code>PUT https://secure.nokotime.com/authorizations/:subdomain/clients/:client_id
</code></pre>

<h4 id="inputs-1">Inputs</h4>

<dl>
  <dt>client_secret</dt>
  <dd>
<em>Required</em> <strong>string</strong>
</dd>
  <dd>the client secret generated for your application.</dd>
  <dt>scopes</dt>
  <dd>
<em>Optional</em> <strong>array of strings</strong>
</dd>
  <dd>The type of access your application needs to the user’s Noko data.</dd>
  <dd>If no value is provided, then the permissions you chose when you setup your application will be used.</dd>
  <dt>note</dt>
  <dd>
<em>Optional</em> <strong>string</strong>
</dd>
  <dd>a note to remind users why the OAuth token was generated</dd>
  <dt>note_url</dt>
  <dd>
<em>Optional</em> <strong>string</strong>
</dd>
  <dd>a URL to remind users what app the OAuth token was generated for.</dd>
</dl>

<h3 id="response-if-a-new-authorization-is-created">Response if a new authorization is created</h3>
<pre class="headers"><code>Status: 201 Created</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.nokotime.com/v2/authorizations/1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">scopes</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">current_user</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">project</span><span class="dl">"</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abc123</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://dabestnokoapp.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Da Best Noko App</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">client_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">98643ycvfjfswx</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">note</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">describes what the token is generated for</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">note_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://explanation.com/</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T20:39:23Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T17:26:27Z</span><span class="dl">"</span>
<span class="p">}</span></code></pre>

<h3 id="response-if-an-authorization-already-exists">Response if an authorization already exists</h3>
<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.nokotime.com/v2/authorizations/1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">scopes</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">current_user</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">project</span><span class="dl">"</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abc123</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://dabestnokoapp.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Da Best Noko App</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">client_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">98643ycvfjfswx</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">note</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">describes what the token is generated for</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">note_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://explanation.com/</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T20:39:23Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T17:26:27Z</span><span class="dl">"</span>
<span class="p">}</span></code></pre>

<h3 id="response-if-the-user-is-not-associated-with-the-subdomain-provided-2">Response if the user is not associated with the subdomain provided</h3>

<pre class="headers no-response"><code>Status: 404 Not Found</code></pre>

<h3 id="update-an-existing-authorization">Update an existing Authorization</h3>

<pre><code>PUT https://secure.nokotime.com/authroizations/:subdomain/:id
</code></pre>

<h4 id="parameters-3">Parameters:</h4>

<dl>
  <dt>note</dt>
  <dd>
<em>Optional</em> <strong>string</strong>
</dd>
  <dd>a note to remind users why the OAuth token was generated</dd>
  <dt>note_url</dt>
  <dd>
<em>Optional</em> <strong>string</strong>
</dd>
  <dd>a URL to remind users what app the OAuth token was generated for.</dd>
  <dt>add_scopes</dt>
  <dd>
<em>Optional</em> <strong>array of strings</strong>
</dd>
  <dd>The list of scopes to add to this authorization. Adding new scopes allows your application to access additional information from the user’s Noko account. Non-existent scopes, or scopes already applied for this authorization will be ignored.</dd>
  <dt>remove_scopes</dt>
  <dd>
<em>Optional</em> <strong>array of strings</strong>
</dd>
  <dd>The list of scopes to remove from this authorization. Removing scopes prevents your application from accessing specific information from the user’s Noko account. Scopes that are not currently applied for this authorization will be ignored.</dd>
</dl>

<h4 id="response-5">Response</h4>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.nokotime.com/v2/authorizations/1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">scopes</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">current_user</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">project</span><span class="dl">"</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abc123</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://dabestnokoapp.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Da Best Noko App</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">client_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">98643ycvfjfswx</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">note</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">describes what the token is generated for</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">note_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://explanation.com/</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T20:39:23Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T17:26:27Z</span><span class="dl">"</span>
<span class="p">}</span></code></pre>

<h4 id="response-if-the-user-is-not-associated-with-the-subdomain-provided-3">Response if the user is not associated with the subdomain provided</h4>

<pre class="headers no-response"><code>Status: 404 Not Found</code></pre>

<h3 id="delete-an-authorization">Delete an Authorization</h3>

<pre><code>DELETE https://secure.nokotime.com/authorizations/:subdomain/:id
</code></pre>

<h4 id="response-6">Response</h4>

<pre class="headers no-response"><code>Status: 204 No Content</code></pre>

<h2 id="oauth-application-api">OAuth Application API</h2>

<div class="note warning sticky">
  <h2>Not implemented yet!</h2>
  <p>This is just a sneak peek into how this feature might work. Attempting to call any actions will return a 404 error.</p>
</div>

<p>These methods are provided to allow your application to confirm a token’s validity and revoke tokens as necessary. They are only accessible by using Basic Authentication as follows:</p>

<dl>
  <dt>Username</dt>
  <dd>Your application’s <code>client_id</code>
</dd>
  <dt>Password</dt>
  <dd>Your application’s <code>client_secret</code>
</dd>
</dl>

<h3 id="check-an-authorization">Check an Authorization</h3>

<p>This method allows you to confirm a token’s validity. The owner must use Basic Authentication when calling this method, where the username is the <code>client_id</code> of the application and the password is its <code>client_secret</code></p>

<pre><code>GET https://secure.nokotime.com/applications/:client_id/tokens/:access_token
</code></pre>

<h4 id="response-if-the-token-does-not-exist">Response if the token does not exist</h4>
<pre class="headers no-response"><code>Status: 404 Not Found</code></pre>

<h4 id="response-7">Response:</h4>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://api.nokotime.com/v2/authorizations/1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">scopes</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">current_user</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">project</span><span class="dl">"</span>
  <span class="p">],</span>
  <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abc123</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">app</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://dabestnokoapp.com</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Da Best Noko App</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">client_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">98643ycvfjfswx</span><span class="dl">"</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">note</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">describes what the token is generated for</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">note_url</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">http://explanation.com/</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T20:39:23Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2011-09-06T17:26:27Z</span><span class="dl">"</span>
<span class="p">}</span></code></pre>

<h3 id="revoke-all-authorizations-for-an-application">Revoke all Authorizations for an application</h3>

<p>The owner of an OAuth application can revoke every token that has been created for this authorization. The owner must use Basic Authentication when calling this method, where the username is the <code>client_id</code> of the application and the password is its <code>client_secret</code></p>

<pre><code>DELETE https://secure.nokotime.com/applications/:client_id/tokens
</code></pre>

<h4 id="response-8">Response</h4>
<pre class="headers no-response"><code>Status: 204 No Content</code></pre>

<h3 id="revoke-a-single-authorization-for-an-application">Revoke a single authorization for an application</h3>

<p>The owner of an OAuth application can also revoke a single token that has been created for this authorization. The owner must use Basic Authentication when calling this method, where the username is the <code>client_id</code> of the application and the password is its <code>client_secret</code></p>

<pre><code>DELETE https://secure.nokotime.com/applications/:client_id/tokens/:access_token
</code></pre>

<h4 id="response-9">Response</h4>

<pre class="headers no-response"><code>Status: 204 No Content</code></pre>


      <div id="footer">

        <div class="columns four">
          <div class="column">
            <h3>About Noko</h3>
            <ul>
              <li><a href="https://nokotime.com/manifesto">The Noko manifesto</a></li>
              <li><a href="https://nokotime.com/"> Noko plans and pricing</a></li>
              <li><a href="https://nokotime.com/terms/">Our user agreement</a></li>
              <li><a href="https://nokotime.com/privacy/">Privacy policy</a></li>
            </ul>
          </div>

          <div class="column">
            <h3>Us &amp; our company</h3>
            <ul>
              <li><a href="https://nokotime.com/team/">Meet our team</a></li>
              <li><a href="https://nokotime.com/blog/">Read our blog</a></li>
              <li><a href="https://nokotime.com/contact/">Write us</a></li>
            </ul>
          </div>

          <div class="column">
            <h3>Docs</h3>
            <ul>
              <li><a href="http://help.nokotime.com/">FAQs</a></li>
              <li><a href="http://developer.nokotime.com">Developer Documentation</a></li>
            </ul>
          </div>

          <div class="column">
            <h3>You &amp; your account</h3>
            <ul>
              <li><a href="http://help.nokotime.com/article/13-signing-in-to-freckle">How to sign in</a></li>
              <li><a href="http://help.nokotime.com/">Get help &amp; contact support</a></li>
            </ul>
          </div>

        </div>

        <div class="copyright">
          &copy; 2008-2023 Slash7 LLC, all rights reserved.<br>
          Noko® is a registered trademark of Slash7 LLC.
        </div>
      </div>
    </div>
  </div>

  <script async src="https://secure.nokotime.com/help/help.js"></script>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

  <script>
    $(function(){
      function setTabs(to){
        // change all tabs on page to value
        var tabs = $('.tabs')
        tabs.find('.selector DIV').removeClass('active')
        tabs.find('.selector DIV.'+to).addClass('active')
        tabs.find('.tab').removeClass('active')
        tabs.find('.tab.'+to).addClass('active')

        // change tabs that don't have an active tab to show first tab
        tabs.find('.selector').each(function(){
          if ($(this).find('DIV.active').length > 0) return

          console.log(this)
          $(this).find('DIV').first().addClass('active')
          $(this).closest('.tabs').find('.tab').first().addClass('active')
        })

        // save for later
        localStorage && (localStorage.dataFormat = to)
      }

      $('.tabs .selector div').on('click', function(){
        setTabs($(this).attr('class'))
      })

      setTabs(localStorage ? (localStorage.dataFormat || 'json') : 'json')
    })
  </script>

  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37896092-1']);
    _gaq.push(['_setDomainName', 'nokotime.com']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</body>
</html>
