<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Freckle API: Basics</title>
  <link rel="stylesheet" href="/v2/assets/stylesheet.css" type="text/css">
</head>

<body>
  <div id="container">
    <div id="nav">
      <div id="logo">
        <a href="/v2/">
          <img src="/v2/assets/freckle.svg" width="125" height="36">
        </a>
      </div>
      API Documentation
      <h2>Topics</h2>
      <ul id="resources">
        <li><a href="/v2/">API Basics</a></li>
        <li><a href="/v2/authentication">Authentication</a></li>
      </ul>
      <h2>Resources</h2>
      <ul id="resources">
        <li><a href="/v2/timers">Timers</a></li>
      </ul>

      <ul id="resources">
        <li><a href="/v2/entries">Entries</a></li>
      </ul>
      <ul id="resources">
        <li><a href="/v2/expenses">Expenses</a></li>
      </ul>
    </div>
    <div id="content">
      <h1>Basics</h1>
      <div class="note">
<h2>We're currently Alpha Testing Version 2 of the Freckle API!</h2>
<p>This means that the API will grow and its functionality may change at any time.</p>
</div>

<h1 id="introduction">Introduction</h1>

<p>Many applications use the Freckle API every day, among them web applications
like <a href="%22http://beanstalkapp.com%22">Beanstalk</a>, <a href="%22http://github.com%22">Github</a>, and <a href="%22http://planscope.io%22">Planscope</a>; native mobile and desktop applications like <a href="http://pigmentapp.com">Pigment</a> and <a href="http://punch.fousa.be">Punch</a>; as well as many internal applications that our customers write to integrate with other software and services. Be creative! If you want to let us know about how you’re using the Freckle API, please <a href="mailto:support@letsfreckle.com">email</a>, <a href="http://twitter.com/letsfreckle">tweet</a>, or <a href="https://www.facebook.com/FreckleTimeTracking">send us a message on Facebook</a>.</p>

<p>Freckle is also one of the many services listed on <a href="https://zapier.com/zapbook/freckle/">Zapier</a> which allows drag-and-drop integration of Freckle with other internet-based software (for example, you can send new Freckle entries to your Campfire chat room!).</p>

<p>Freckle’s API docs are on Github: if you find an error or omission
in the API documentation, you can help fix it quickly by <a href="https://github.com/cheerful/freckle-apidocs">forking the Freckle API docs</a> and submitting a pull request!</p>

<h1 id="freckle-api-librarieslibraries"><a href="#libraries">Freckle API Libraries</a></h1>

<p>There are several 3rd-party open source libraries for popular languages
available:</p>

<ul>
<li>Ruby: <a href="https://github.com/ryanlecompte/letsfreckle-client">letsfreckle-client</a>
</li>
  <li>Python: <a href="https://github.com/ipmb/freckle">ipmb/freckle</a>
</li>
  <li>Node.js: <a href="https://github.com/tbranyen/nodefreckle">nodefreckle</a>
</li>
  <li>Clojure: <a href="https://github.com/mlehman/clj-freckle">clj-freckle</a>
</li>
</ul><p>Additionally, the command-line tool <a href="https://github.com/sirkitree/pippi">Pippi</a> can log time and access other API functionality, which is great if you want to use the Freckle API from a shell script.</p>

<p class="note">
These are 3rd-party libraries and Freckle can't provide support for them.
Please contact the library authors directly if you need help with these.
</p>

<h1 id="naming-client-applications">Naming client applications</h1>

<p>If you plan to release a public client app for Freckle (such as a native mobile app, regardless if it’s paid-for or free) you’re welcome to do so. Do not name apps “Freckle” or “Freckle for <platform>”. Please contact us first with more details about your app if you want to use “Freckle” or the Freckle logo as name or icon of your app!</platform></p>

<h1 id="api-url">API URL</h1>

<p>The API is accessed through a single endpoint:</p>

<pre><code>api.letsfreckle.com/v2
</code></pre>

<p>For example: if we wanted to access a user’s timers, the URL would be:</p>

<pre><code>api.letsfreckle.com/v2/timers
</code></pre>

<h1 id="schema">Schema</h1>

<p>The following rules define the general schema of the API:</p>

<ul>
<li>Only HTTPS traffic is allowed when accessing the API.</li>
  <li>All data is sent and received as JSON, with the exception of <a href="#uploading-files">File Uploads</a>.</li>
  <li>Blank fields are included as <code>null</code> in responses.</li>
  <li>The ISO 8061 Date and Timestamp formats are used across the application (<code>YYYY-MM-DD</code> and <code>YYYY-MM-DDTHH:MM:SSZ</code> respectively).</li>
</ul><h1 id="a-user-agent-is-required">A User Agent is Required</h1>

<p>All API Requests must include a valid <code>User-Agent</code> header. Requests with no <code>User-Agent</code> header will be rejected. We recommend two options:</p>

<ul>
<li>Your Freckle account subdomain</li>
  <li>The name of the application</li>
</ul><h2 id="example">Example:</h2>
<pre><code>User-Agent: My-Freckle-App
</code></pre>

<h1 id="client-errors">Client Errors</h1>

<p>There are a few errors that can occur while making API calls. the following are the kinds of errors you may encounter when using the API.</p>

<h2 id="invalid-json">Invalid JSON</h2>

<pre class="headers"><code>Status: 400 Bad Request</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"message"</span><span class="o">:</span> <span class="s2">"JSON Parsing Error"</span>
<span class="p">}</span></code></pre>

<h2 id="wrong-type-of-json-sent">Wrong type of JSON sent</h2>

<pre class="headers"><code>Status: 400 Bad Request</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"message"</span><span class="o">:</span> <span class="s2">"Body should be JSON Hash"</span>
<span class="p">}</span></code></pre>

<h2 id="fields-were-not-in-the-correct-format">Fields were not in the correct format</h2>

<pre class="headers"><code>Status: 400 Bad Request</code></pre>

<h2 id="the-user-does-not-have-the-necessary-permissions-to-perform-an-action">The user does not have the necessary permissions to perform an action</h2>

<pre class="headers"><code>Status: 403 Forbidden</code></pre>

<h2 id="account-is-currently-locked-for-migration">Account is currently locked for migration</h2>

<pre class="headers"><code>Status: 503 Service Unavailable</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"message"</span><span class="o">:</span> <span class="s2">"Freckle is changing the internal data for your account so you can start using hashtags"</span>
<span class="p">}</span></code></pre>

<h1 id="uploading-files">Uploading Files</h1>

<p>If an action includes a file as one of the request parameters (such as when creating an import), then you must send your request parameters as traditional multipart HTTP key/value pairs instead of as a JSON object.</p>

<p>Additionally, the <code>Content-Type</code> header of the request <strong>must</strong> be set to: <code>multipart/form-data</code>, otherwise the request will not be processed and a <code>400 Bad Request</code> error will be returned.</p>

<h1 id="http-redirection">HTTP Redirection</h1>

<p>HTTP Redirection will be used when appropriate, meaning that clients should assume any request may result in a redirection.</p>

<p>Redirect responses will have a <code>Location</code> header field which contains the URI of the resource to which the client should repeat the requests.</p>

<h3 id="permanent-redirection">Permanent Redirection</h3>
<pre class="headers"><code>Status: 301 Moved Permanently
Location: https://api.letsfreckle.com/v2/new/url</code></pre>

<p>This and all future requests should be directed to the new URI</p>

<h3 id="temporary-redirection">Temporary Redirection</h3>
<pre class="headers"><code>Status: 302 Found
Location: https://api.letsfreckle.com/v2/new/url</code></pre>

<pre class="headers"><code>Status: 307 Temporary Redirect
Location: https://api.letsfreckle.com/v2/new/url</code></pre>

<p>Repeat the request verbatim to the URI specified in the <code>Location</code> header, but clients should still continue to use th original URI in future requests</p>

<h1 id="supported-http-verbs">Supported HTTP Verbs:</h1>

<dl>
<dt><strong><code>HEAD</code></strong></dt>
  <dd>Can be issued against any <code>GET</code> request to return just the HTTP header info</dd>
</dl><p><strong><code>GET</code></strong></p>

<p><strong><code>POST</code></strong></p>

<dl>
<dt><strong><code>PUT</code></strong></dt>
  <dd>Used for replacing resources or collections and performing actions on a resource.</dd>
</dl><p><strong><code>DELETE</code></strong></p>

<h1 id="authentication">Authentication</h1>

<h2 id="supported-methods">Supported methods:</h2>

<ul>
<li>Personal Access Tokens</li>
</ul><h1 id="hypermedia">Hypermedia</h1>

<p>All resources have one or more <code>*_url</code> properties linking to other resources or custom actions on this resource. They are meant to provide explicit URLs so clients don’t have to generate them. Using these URLs will make API upgrades easier for developers. All URLs follow <a href="http://tools.ietf.org/html/rfc6570">RFC 6570 URI templates</a>.</p>

<h2 id="example-timer-object">Example (Timer Object):</h2>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"initial_start_time"</span><span class="o">:</span> <span class="s2">"2013-07-09T23:04:05Z"</span><span class="p">,</span>
  <span class="s2">"last_start_time"</span><span class="o">:</span> <span class="s2">"2013-07-10T01:04:05Z"</span><span class="p">,</span>
  <span class="s2">"state"</span><span class="o">:</span> <span class="s2">"running"</span><span class="p">,</span>
  <span class="s2">"seconds"</span><span class="o">:</span> <span class="mi">180</span><span class="p">,</span>
  <span class="s2">"entry_date"</span><span class="o">:</span> <span class="s2">"2013-07-09"</span><span class="p">,</span>
  <span class="s2">"description"</span><span class="o">:</span> <span class="s2">"freckle work"</span><span class="p">,</span>
  <span class="s2">"user"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="mi">5538</span><span class="p">,</span>
    <span class="s2">"email"</span><span class="o">:</span> <span class="s2">"john.test@test.com"</span><span class="p">,</span>
    <span class="s2">"first_name"</span><span class="o">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="s2">"last_name"</span><span class="o">:</span> <span class="s2">"Test"</span><span class="p">,</span>
    <span class="s2">"avatar"</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">"thumbnail"</span><span class="o">:</span> <span class="s2">"https://api.letsfreckle.com/images/avatars/0000/0001/avatar_profile.jpg"</span><span class="p">,</span>
      <span class="s2">"avatar"</span><span class="o">:</span> <span class="s2">"https://api.letsfreckle.com/images/avatars/0000/0001/avatar.jpg"</span>
    <span class="p">},</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"https://api.letsfreckle.com/v2/users/5538"</span>
  <span class="p">},</span>
  <span class="s2">"project"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="mi">37396</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Gear GmbH"</span><span class="p">,</span>
    <span class="s2">"stepping"</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">"enabled"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"billable"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"color_hex"</span><span class="o">:</span> <span class="s2">"ff9898"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"https://api.letsfreckle.com/v2/projects/37396"</span>
  <span class="p">},</span>
  <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"https://api.letsfreckle.com/v2/projects/34580/timer"</span><span class="p">,</span>
  <span class="s2">"start_url"</span><span class="o">:</span> <span class="s2">"https://api.letsfreckle.com/v2/projects/34580/timer/start"</span><span class="p">,</span>
  <span class="s2">"pause_url"</span><span class="o">:</span> <span class="s2">"https://api.letsfreckle.com/v2/projects/34580/timer/pause"</span><span class="p">,</span>
  <span class="s2">"log_url"</span><span class="o">:</span> <span class="s2">"https://api.letsfreckle.com/v2/projects/34580/timer/log"</span>
<span class="p">}</span></code></pre>
    </div>
  </div>

  <div id="footer">
    <div>

    <div class="columns four">
      <div class="column">
        <h3>About Freckle</h3>
        <ul>
          <li><a href="http://letsfreckle.com/manifesto">The Freckle manifesto</a></li>
          <li><a href="http://letsfreckle.com/plans/"> Freckle plans and pricing</a></li>
          <li><a href="http://letsfreckle.com/terms/">Our user agreement</a></li>
          <li><a href="http://letsfreckle.com/privacy/">Privacy policy</a></li>
        </ul>
      </div>

      <div class="column">
        <h3>Us &amp; our company</h3>
        <ul>
          <li><a href="http://letsfreckle.com/team/">Meet our team</a></li>
          <li><a href="http://letsfreckle.com/blog/">Read our blog about Freckle</a></li>
          <li><a href="http://letsfreckle.com/contact/">Write us</a></li>
        </ul>
      </div>

      <div class="column">
        <h3>Docs</h3>
        <ul>
          <li><a href="http://letsfreckle.com/help/">FAQs</a></li>
          <li><a href="http://letsfreckle.com/quick-start">Quick Start Guide</a></li>
          <li><a href="http://developer.letsfreckle.com">API Documentation</a></li>
        </ul>
      </div>

      <div class="column">
        <h3>You &amp; your account</h3>
        <ul>
          <li><a href="http://letsfreckle.com/help/accounts/">How to sign in</a></li>
          <li><a href="http://letsfreckle.com/help/">Get help &amp; contact support</a></li>
        </ul>
      </div>

    </div>

    <div class="copyright">
      &copy; 2008-2014 Slash7 LLC, all rights reserved.
    </div>
    </div>
  </div>

  <script>
  var __CHARM = {"key":"g3gwo8hllujjbwaz14qlfeeqdefgt3k"};
  </script>
  <script src="https://secure.charmhq.com/feedback.js"></script>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

  <script>
    $(function(){
      function setTabs(to){
        // change all tabs on page to value
        var tabs = $('.tabs')
        tabs.find('.selector DIV').removeClass('active')
        tabs.find('.selector DIV.'+to).addClass('active')
        tabs.find('.tab').removeClass('active')
        tabs.find('.tab.'+to).addClass('active')

        // change tabs that don't have an active tab to show first tab
        tabs.find('.selector').each(function(){
          if ($(this).find('DIV.active').length > 0) return

          console.log(this)
          $(this).find('DIV').first().addClass('active')
          $(this).closest('.tabs').find('.tab').first().addClass('active')
        })

        // save for later
        localStorage && (localStorage.dataFormat = to)
      }

      $('.tabs .selector div').on('click', function(){
        setTabs($(this).attr('class'))
      })

      setTabs(localStorage ? (localStorage.dataFormat || 'json') : 'json')
    })
  </script>

  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37896092-1']);
    _gaq.push(['_setDomainName', 'letsfreckle.com']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</body>
</html>