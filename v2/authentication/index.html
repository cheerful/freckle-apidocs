<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Freckle API: Authentication</title>
  <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/assets/v2/stylesheet.css" type="text/css">
</head>

<body>
  <div id="container">
    <div id="nav">
      <div id="logo">
        <a href="/v2">
          <img id="logo" src="/assets/freckle.svg" alt="Freckle">
        </a>
      </div>
      API Documentation
      <h2>Topics</h2>
      <ul id="resources">
        <li><a href="/v2">API Basics</a></li>
        <li><a class="coming-soon" href="/v2/oauth">OAuth</a></li>
        <li><a href="/v2/authentication">Authentication</a></li>
        <li><a href="/v2/invoice_locales">Invoice Locales</a></li>
      </ul>
      <h2>Resources</h2>
      <ul id="resources">
        <li><a href="/v2/timers">Timers</a></li>
        <li><a href="/v2/entries">Entries</a></li>
        <li><a class="coming-soon" href="/v2/expenses">Expenses</a></li>
        <li><a class="coming-soon" href="/v2/tags">Tags</a></li>
      </ul>

      <h2>Projects &amp; Invoices</h2>
      <ul id="resources">
        <li><a class="coming-soon" href="/v2/projects">Projects</a></li>
        <li><a class="coming-soon" href="/v2/project_groups">Project Groups</a></li>
        <li><a class="coming-soon" href="/v2/invoices">Invoices</a></li>
      </ul>

      <h2>Account Management</h2>
      <ul id="resources">
        <li><a class="coming-soon" href="/v2/account">Account</a></li>
        <li><a class="coming-soon" href="/v2/current_user">Current User</a></li>
        <li><a class="coming-soon" href="/v2/users">Users</a></li>
        <li><a class="coming-soon" href="/v2/imports">Imports</a></li>
      </ul>
    </div>
    <div id="content">
      <div class="note sticky">
        <h2>Freckle API version 2 is in closed beta</h2>
        <p>
          While in beta, version 2 of the API is incomplete and subject to
          unannounced changes, and sporadic downtime. For any questions,
          please contact <a href="mailto:cannon@slash7.com">cannon@slash7.com</a>.
        </p>
      </div>
      <h1>Authentication</h1>
      <ul id="markdown-toc">
<li><a href="#which-type-of-authentication-should-i-choose">Which type of authentication should I choose?</a></li>
  <li><a href="#which-authentication-method-do-i-choose">Which authentication method do I choose?</a></li>
  <li><a href="#using-personal-access-tokens">Using Personal Access Tokens</a></li>
  <li><a href="#using-oauth-access-tokens">Using OAuth access tokens</a></li>
  <li><a href="#basic-authentication">Basic Authentication</a></li>
</ul><p>The Freckle API provides multiple different ways to handle authentication in your application, each one suited for a particular type of application. It’s important to pick the right authentication method for your application, so we’ve created the guide below to help you choose the right one:</p>

<h2 id="which-type-of-authentication-should-i-choose">Which type of authentication should I choose?</h2>

<dl>
<dt>
<a href="/v2/oauth">OAuth</a> (<strong>Strongly recommended</strong>)</dt>
  <dd>My application will be running in a production environment, is not a script, or I am concerned about security.</dd>
  <dt><a href="#using-personal-access-token">Personal Access Token</a></dt>
  <dd>My application is a script or for internal use only.</dd>
</dl><h2 id="which-authentication-method-do-i-choose">Which authentication method do I choose?</h2>

<dl>
<dt><a href="#using-personal-access-tokens">Sending HTTP Header or <code>access_token</code> parameter for Personal Access Token</a></dt>
  <dd>My application uses Personal Access Tokens for authentication</dd>
  <dt><a href="#using-oauth-access-tokens">Sending HTTP Header or <code>access_token</code> parameter for OAuth access token</a></dt>
  <dd>My application uses OAuth access tokens for authentication</dd>
  <dt><a href="#via-oauth-tokens">Basic Authentication using OAuth access tokens or Personal Access Tokens</a></dt>
  <dd>My tools only allow me to use Basic Authentication</dd>
  <dt><a href="#via-username-and-password">Basic Authentication to interact with the OAuth Authorizations API</a></dt>
  <dd>I am writing a non-web application that will be using OAuth, and I need to generate an OAuth access token to allow my application to access the API.</dd>
</dl><h2 id="using-personal-access-tokens">Using Personal Access Tokens</h2>

<p><a href="http://help.letsfreckle.com/import-export-api/api">Personal Access Tokens</a> allow users to issue individual tokens for apps and revoke them at will—be sure to handle authentication errors in your application. Treat Personal Access Tokens like passwords!</p>

<p>The token has to be sent for each request your application makes to the Freckle API.</p>

<p>There are two ways to send the token—examples are given using the cURL command line tool:</p>

<p>As <em>query parameter</em> named <code>access_token</code>:</p>

<pre class="terminal">
curl -v https://api.letsfreckle.com/v2/timers?access_token=scbp72wdc528hm8n52fowkma321tn58-jc1l2dkil0pnb75xjni48ad2wwsgr1d
</pre>

<p>As <em>HTTP header</em> <code>X-FreckleToken</code>:</p>

<pre class="terminal">
curl -v -H "X-FreckleToken:scbp72wdc528hm8n52fowkma321tn58-jc1l2dkil0pnb75xjni48ad2wwsgr1d" https://api.letsfreckle.com/v2/timers
</pre>

<h2 id="using-oauth-access-tokens">Using OAuth access tokens</h2>

<p>Once your application has received an OAuth access token, you can begin making API requests. Note that access tokens can be revoked at any time, so be sure to handle authentication errors in your application.</p>

<p>The token has to be sent for each request made to the API.</p>

<p>There are two ways to send the token—examples are given using the cURL command line tool:</p>

<p>As an OAuth2 Token header:</p>

<pre class="terminal">
curl -H "Authorization: token scbp72wdc528hm8n52fowkma321tn58-jc1l2dkil0pnb75xjni48ad2wwsgr1d" -v https://api.letsfreckle.com/v2/timers
</pre>

<p>As a <em>query parameter</em> named <code>access_token</code>:</p>

<pre class="terminal">
curl -v https://api.letsfreckle.com/v2/timers?access_token=scbp72wdc528hm8n52fowkma321tn58-jc1l2dkil0pnb75xjni48ad2wwsgr1d
</pre>

<h2 id="basic-authentication">Basic Authentication</h2>

<p>The API supports Basic Authentication as defined in <a href="http://www.ietf.org/rfc/rfc2617.txt">RFC2617</a>. There are two ways Basic Authentication can be used:</p>

<ul>
<li>to allow API access with an OAuth access token or Personal Access Token</li>
  <li>to interact with the <a href="/v2/oauth#oauth-authorizations-api">OAuth Authorizations API</a>
</li>
</ul><h3 id="via-oauth-access-tokens-or-personal-access-tokens">Via OAuth access tokens or Personal Access Tokens</h3>

<p>You can authenticate using <a href="http://help.letsfreckle.com/import-export-api/api">Personal Access Tokens</a> or <a href="/v2/oauth">OAuth access tokens</a>. This approach is useful if your tools only support Basic Authentication but you want to take advantage of the security benefits provided by OAuth and Personal Access Tokens.</p>

<p>To do so, provide the token as the username and provide a blank password or a password of <code>x-oauth-basic</code>. For example:</p>

<pre class="terminal">
curl -u abcdefghijklmnop1234567890:x-oauth-basic https://api.letsfreckle.com/v2/entries
</pre>

<h3 id="to-interact-with-the-oauth-authorizations-api">To interact with the OAuth Authorizations API</h3>

<p>The <a href="/v2/oauth#oauth-authorizations-api">OAuth Authorizations API</a> allows users to manage their OAuth access tokens and provides non-web applications a way to generate an OAuth access token for the authenticated user.</p>

<p>To use Basic Authentication to interact with the OAuth Authorizations API, simply send the email and password associated with the user.</p>

<p>For example, if you’re accessing the API via <a href="http://curl.haxx.se/">cURL</a>, the following command would authenticate with <code>john@test.com</code> as the email. (cURL will prompt you to enter the password).</p>

<pre class="terminal">
curl -u john@test.com https://api.letsfreckle.com/v2/subdomains
</pre>
    </div>
  </div>

  <div id="footer">
    <div>

    <div class="columns four">
      <div class="column">
        <h3>About Freckle</h3>
        <ul>
          <li><a href="http://letsfreckle.com/manifesto">The Freckle manifesto</a></li>
          <li><a href="http://letsfreckle.com/plans/"> Freckle plans and pricing</a></li>
          <li><a href="http://letsfreckle.com/terms/">Our user agreement</a></li>
          <li><a href="http://letsfreckle.com/privacy/">Privacy policy</a></li>
        </ul>
      </div>

      <div class="column">
        <h3>Us &amp; our company</h3>
        <ul>
          <li><a href="http://letsfreckle.com/team/">Meet our team</a></li>
          <li><a href="http://letsfreckle.com/blog/">Read our blog about Freckle</a></li>
          <li><a href="http://letsfreckle.com/contact/">Write us</a></li>
        </ul>
      </div>

      <div class="column">
        <h3>Docs</h3>
        <ul>
          <li><a href="http://letsfreckle.com/help/">FAQs</a></li>
          <li><a href="http://letsfreckle.com/quick-start">Quick Start Guide</a></li>
          <li><a href="http://developer.letsfreckle.com">API Documentation</a></li>
        </ul>
      </div>

      <div class="column">
        <h3>You &amp; your account</h3>
        <ul>
          <li><a href="http://letsfreckle.com/help/accounts/">How to sign in</a></li>
          <li><a href="http://letsfreckle.com/help/">Get help &amp; contact support</a></li>
        </ul>
      </div>

    </div>

    <div class="copyright">
      &copy; 2008-2014 Slash7 LLC, all rights reserved.
    </div>
    </div>
  </div>

  <script async src="https://secure.letsfreckle.com/help/help.js"></script>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

  <script>
    $(function(){
      function setTabs(to){
        // change all tabs on page to value
        var tabs = $('.tabs')
        tabs.find('.selector DIV').removeClass('active')
        tabs.find('.selector DIV.'+to).addClass('active')
        tabs.find('.tab').removeClass('active')
        tabs.find('.tab.'+to).addClass('active')

        // change tabs that don't have an active tab to show first tab
        tabs.find('.selector').each(function(){
          if ($(this).find('DIV.active').length > 0) return

          console.log(this)
          $(this).find('DIV').first().addClass('active')
          $(this).closest('.tabs').find('.tab').first().addClass('active')
        })

        // save for later
        localStorage && (localStorage.dataFormat = to)
      }

      $('.tabs .selector div').on('click', function(){
        setTabs($(this).attr('class'))
      })

      setTabs(localStorage ? (localStorage.dataFormat || 'json') : 'json')
    })
  </script>

  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37896092-1']);
    _gaq.push(['_setDomainName', 'letsfreckle.com']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</body>
</html>
